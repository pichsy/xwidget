# XWidget æ¡†æ¶ä½¿ç”¨æŒ‡å—

## ğŸ“– æ¡†æ¶ä»‹ç»

XWidget æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ Android UI ç»„ä»¶åº“ï¼Œæä¾›äº†ä¸°å¯Œçš„è‡ªå®šä¹‰æ§ä»¶å’Œå¸ƒå±€ï¼Œæ”¯æŒåœ†è§’ã€æ¸å˜ã€é˜´å½±ã€ç«‹ä½“æ•ˆæœã€çŠ¶æ€åˆ‡æ¢ç­‰å¤šç§è§†è§‰æ•ˆæœã€‚æ¡†æ¶é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼ŒåŒæ—¶æ”¯æŒå¤šç§çŠ¶æ€ä¸‹çš„æ ·å¼åˆ‡æ¢ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **å¤šçŠ¶æ€æ”¯æŒ**: æ”¯æŒ normalã€pressedã€checkedã€activatedã€disabled äº”ç§çŠ¶æ€
- **æ¸å˜èƒŒæ™¯**: æ”¯æŒçº¿æ€§æ¸å˜ã€å¤šè‰²æ¸å˜ï¼Œæ”¯æŒå››ç§æ¸å˜æ–¹å‘
- **åœ†è§’è¾¹æ¡†**: æ”¯æŒç»Ÿä¸€åœ†è§’å’Œå››è§’ç‹¬ç«‹åœ†è§’è®¾ç½®
- **é˜´å½±æ•ˆæœ**: æ”¯æŒè‡ªå®šä¹‰é˜´å½±é¢œè‰²ã€é«˜åº¦ã€é€æ˜åº¦
- **ç«‹ä½“æ•ˆæœ**: æ”¯æŒ3Dç«‹ä½“æŒ‰é’®æ•ˆæœï¼Œå¯è‡ªå®šä¹‰å„é¢é«˜åº¦
- **åŠ¨ç”»æ•ˆæœ**: æ”¯æŒæŒ‰å‹ç¼©æ”¾ã€é€æ˜åº¦å˜åŒ–ç­‰åŠ¨ç”»
- **è¾¹æ¡†æ¸å˜**: æ”¯æŒè¾¹æ¡†é¢œè‰²æ¸å˜æ•ˆæœ
- **åˆ†å‰²çº¿**: æ”¯æŒå››æ–¹å‘åˆ†å‰²çº¿è®¾ç½®

## ğŸ—ï¸ æ¡†æ¶æ¶æ„

### æ ¸å¿ƒæ¨¡å—

1. **XView ç³»åˆ—**: åŸºç¡€æ§ä»¶æ‰©å±•
   - `XButton` - å¢å¼ºæŒ‰é’®
   - `XTextView` - å¢å¼ºæ–‡æœ¬è§†å›¾
   - `XImageView` - å¢å¼ºå›¾ç‰‡è§†å›¾
   - `XConstraintLayout` - å¢å¼ºçº¦æŸå¸ƒå±€
   - `XLinearLayout` - å¢å¼ºçº¿æ€§å¸ƒå±€
   - `XFrameLayout` - å¢å¼ºå¸§å¸ƒå±€
   - `XRelativeLayout` - å¢å¼ºç›¸å¯¹å¸ƒå±€
   - `XView` - åŸºç¡€è§†å›¾
   - `XViewGroup` - åŸºç¡€è§†å›¾ç»„

2. **XCard ç³»åˆ—**: å¡ç‰‡å¼å¸ƒå±€
   - `XCardButton` - å¡ç‰‡æŒ‰é’®
   - `XCardConstraintLayout` - å¡ç‰‡çº¦æŸå¸ƒå±€
   - `XCardLinearLayout` - å¡ç‰‡çº¿æ€§å¸ƒå±€
   - `XCardFrameLayout` - å¡ç‰‡å¸§å¸ƒå±€

3. **XRound ç³»åˆ—**: åœ†è§’å¸ƒå±€
   - `XRoundButton` - åœ†è§’æŒ‰é’®
   - `XRoundConstraintLayout` - åœ†è§’çº¦æŸå¸ƒå±€
   - `XRoundLinearLayout` - åœ†è§’çº¿æ€§å¸ƒå±€
   - `XRoundImageView` - åœ†è§’å›¾ç‰‡è§†å›¾
   - `XRoundTextView` - åœ†è§’æ–‡æœ¬è§†å›¾

4. **è¡¨å•æ§ä»¶ç³»åˆ—**
   - `XCheckBox` - å¤é€‰æ¡†
   - `XSmoothCheckBox` - å¹³æ»‘åŠ¨ç”»å¤é€‰æ¡†
   - `XRadioButton` - å•é€‰æŒ‰é’®
   - `XRadioGroup` - å•é€‰ç»„
   - `XRatingBar` - è¯„åˆ†æ¡
   - `XSwitchButton` - å¼€å…³æŒ‰é’®
   - `XProgressBar` - è¿›åº¦æ¡
   - `XInputLayout` - è¾“å…¥å¸ƒå±€
   - `XEditText` - å¢å¼ºè¾“å…¥æ¡†
   - `XVerificationCodeEditText` - éªŒè¯ç è¾“å…¥æ¡†

5. **å¸ƒå±€æ§ä»¶ç³»åˆ—**
   - `XFlowLayout` - æµå¼å¸ƒå±€
   - `XSpace` - å ä½æ§ä»¶
   - `XStatusBarSpace` - çŠ¶æ€æ å ä½

6. **ç‰¹æ®Šæ•ˆæœç³»åˆ—**
   - `ShineButton` - é—ªå…‰æŒ‰é’®
   - `XPressScaleLayout` - æŒ‰å‹ç¼©æ”¾å¸ƒå±€
   - `XWebView` - å¢å¼ºç½‘é¡µè§†å›¾

7. **åµŒå¥—æ»šåŠ¨ç³»åˆ—**
   - `XNestedScrollLayout` - åµŒå¥—æ»šåŠ¨å¸ƒå±€
   - `XNestedTopDelegateLayout` - é¡¶éƒ¨ä»£ç†å¸ƒå±€
   - `XNestedBottomDelegateLayout` - åº•éƒ¨ä»£ç†å¸ƒå±€
   - `XNestedTopLinearLayout` - é¡¶éƒ¨çº¿æ€§å¸ƒå±€
   - `XNestedBottomRecyclerView` - åº•éƒ¨åˆ—è¡¨è§†å›¾
   - `XNestedTopRecyclerView` - é¡¶éƒ¨åˆ—è¡¨è§†å›¾
   - `XDraggableScrollBar` - å¯æ‹–æ‹½æ»šåŠ¨æ¡
   - `XNestedTopAreaBehavior` - é¡¶éƒ¨åŒºåŸŸè¡Œä¸º
   - `XNestedBottomAreaBehavior` - åº•éƒ¨åŒºåŸŸè¡Œä¸º

8. **è¾…åŠ©å·¥å…·ç±»**
   - `XAlphaHelper` - é€æ˜åº¦ç®¡ç†
   - `XBackgroundHelper` - èƒŒæ™¯ç®¡ç†
   - `XColorHelper` - é¢œè‰²å¤„ç†
   - `XRoundBackgroundHelper` - åœ†è§’èƒŒæ™¯ç®¡ç†
   - `XCheckableHelper` - é€‰ä¸­çŠ¶æ€ç®¡ç†
   - `XStatusBarHelper` - çŠ¶æ€æ ç®¡ç†
   - `XDeviceHelper` - è®¾å¤‡ä¿¡æ¯ç®¡ç†
   - `XDisplayHelper` - å±å¹•æ˜¾ç¤ºç®¡ç†
   - `XGradientHelper` - æ¸å˜èƒŒæ™¯ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åŸºç¡€ä½¿ç”¨

#### ç®€å•æŒ‰é’®ç¤ºä¾‹

```xml
<com.pichs.xwidget.view.XButton
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="ç‚¹å‡»æˆ‘"
    android:textColor="#FFFFFF"
    app:xp_radius="8dp"
    app:xp_backgroundGradientStartColor="#FF6B6B"
    app:xp_backgroundGradientEndColor="#4ECDC4"
    app:xp_backgroundGradientOrientation="horizontal"
    app:xp_pressedScale="0.95"
    app:xp_pressedAlpha="0.8" />
```

#### å¡ç‰‡å¸ƒå±€ç¤ºä¾‹

```xml
<com.pichs.xwidget.cardview.XCardConstraintLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:padding="16dp"
    app:xp_radius="12dp"
    app:xp_shadowElevation="4dp"
    app:xp_shadowColor="#20000000"
    app:xp_backgroundGradientColors="#FFFFFF,#F8F9FA"
    app:xp_backgroundGradientOrientation="vertical">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="å¡ç‰‡å†…å®¹"
        android:textSize="16sp"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</com.pichs.xwidget.cardview.XCardConstraintLayout>
```

### 2. åœ†è§’æŒ‰é’®ç¤ºä¾‹

```xml
<com.pichs.xwidget.roundview.XRoundButton
    android:layout_width="120dp"
    android:layout_height="48dp"
    android:text="åœ†è§’æŒ‰é’®"
    android:textColor="#FFFFFF"
    app:xp_radius="24dp"
    app:xp_backgroundGradientColors="#667eea,#764ba2"
    app:xp_backgroundGradientOrientation="horizontal"
    app:xp_pressedScale="0.9"
    app:xp_borderColor="#E0E0E0"
    app:xp_borderWidth="1dp" />
```

## ğŸ¨ å±æ€§è¯¦è§£

### åŸºç¡€å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_radius` | dimension | ç»Ÿä¸€åœ†è§’åŠå¾„ | `8dp` |
| `xp_radiusTopLeft` | dimension | å·¦ä¸Šè§’åœ†è§’ | `8dp` |
| `xp_radiusTopRight` | dimension | å³ä¸Šè§’åœ†è§’ | `8dp` |
| `xp_radiusBottomLeft` | dimension | å·¦ä¸‹è§’åœ†è§’ | `8dp` |
| `xp_radiusBottomRight` | dimension | å³ä¸‹è§’åœ†è§’ | `8dp` |
| `xp_borderColor` | color | è¾¹æ¡†é¢œè‰² | `#FF0000` |
| `xp_borderWidth` | dimension | è¾¹æ¡†å®½åº¦ | `2dp` |

### æ¸å˜èƒŒæ™¯å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_backgroundGradientStartColor` | color | æ¸å˜å¼€å§‹é¢œè‰² | `#FF6B6B` |
| `xp_backgroundGradientEndColor` | color | æ¸å˜ç»“æŸé¢œè‰² | `#4ECDC4` |
| `xp_backgroundGradientColors` | string | å¤šè‰²æ¸å˜ | `#FF6B6B,#4ECDC4,#45B7D1` |
| `xp_backgroundGradientOrientation` | enum | æ¸å˜æ–¹å‘ | `horizontal` |

**æ¸å˜æ–¹å‘é€‰é¡¹:**
- `horizontal` - æ°´å¹³æ¸å˜ï¼ˆå·¦åˆ°å³ï¼‰
- `vertical` - å‚ç›´æ¸å˜ï¼ˆä¸Šåˆ°ä¸‹ï¼‰
- `TL_BR` - å·¦ä¸Šåˆ°å³ä¸‹
- `BL_TR` - å·¦ä¸‹åˆ°å³ä¸Š

### çŠ¶æ€ç›¸å…³å±æ€§

#### æŒ‰å‹çŠ¶æ€ (Pressed)
| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_pressedBackground` | color/drawable | æŒ‰å‹æ—¶èƒŒæ™¯ |
| `xp_pressedBackgroundGradientStartColor` | color | æŒ‰å‹æ—¶æ¸å˜å¼€å§‹è‰² |
| `xp_pressedBackgroundGradientEndColor` | color | æŒ‰å‹æ—¶æ¸å˜ç»“æŸè‰² |
| `xp_pressedBackgroundGradientColors` | string | æŒ‰å‹æ—¶å¤šè‰²æ¸å˜ |
| `xp_pressedBorderColor` | color | æŒ‰å‹æ—¶è¾¹æ¡†è‰² |
| `xp_pressedAlpha` | float | æŒ‰å‹æ—¶é€æ˜åº¦ |
| `xp_pressedScale` | float | æŒ‰å‹æ—¶ç¼©æ”¾æ¯”ä¾‹ |

#### é€‰ä¸­çŠ¶æ€ (Checked)
| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_checkedBackground` | color/drawable | é€‰ä¸­æ—¶èƒŒæ™¯ |
| `xp_checkedBackgroundGradientStartColor` | color | é€‰ä¸­æ—¶æ¸å˜å¼€å§‹è‰² |
| `xp_checkedBackgroundGradientEndColor` | color | é€‰ä¸­æ—¶æ¸å˜ç»“æŸè‰² |
| `xp_checkedBackgroundGradientColors` | string | é€‰ä¸­æ—¶å¤šè‰²æ¸å˜ |
| `xp_checkedBorderColor` | color | é€‰ä¸­æ—¶è¾¹æ¡†è‰² |
| `xp_checkedTextColor` | color | é€‰ä¸­æ—¶æ–‡å­—é¢œè‰² |

#### æ¿€æ´»çŠ¶æ€ (Activated)
| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_activatedBackground` | color/drawable | æ¿€æ´»æ—¶èƒŒæ™¯ |
| `xp_activatedBackgroundGradientStartColor` | color | æ¿€æ´»æ—¶æ¸å˜å¼€å§‹è‰² |
| `xp_activatedBackgroundGradientEndColor` | color | æ¿€æ´»æ—¶æ¸å˜ç»“æŸè‰² |
| `xp_activatedBackgroundGradientColors` | string | æ¿€æ´»æ—¶å¤šè‰²æ¸å˜ |
| `xp_activatedBorderColor` | color | æ¿€æ´»æ—¶è¾¹æ¡†è‰² |
| `xp_activatedTextColor` | color | æ¿€æ´»æ—¶æ–‡å­—é¢œè‰² |

#### ç¦ç”¨çŠ¶æ€ (Disabled)
| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_disabledBackground` | color/drawable | ç¦ç”¨æ—¶èƒŒæ™¯ |
| `xp_disabledBackgroundGradientStartColor` | color | ç¦ç”¨æ—¶æ¸å˜å¼€å§‹è‰² |
| `xp_disabledBackgroundGradientEndColor` | color | ç¦ç”¨æ—¶æ¸å˜ç»“æŸè‰² |
| `xp_disabledBackgroundGradientColors` | string | ç¦ç”¨æ—¶å¤šè‰²æ¸å˜ |
| `xp_disabledBorderColor` | color | ç¦ç”¨æ—¶è¾¹æ¡†è‰² |
| `xp_disabledTextColor` | color | ç¦ç”¨æ—¶æ–‡å­—é¢œè‰² |
| `xp_disabledAlpha` | float | ç¦ç”¨æ—¶é€æ˜åº¦ |
| `xp_disabledScale` | float | ç¦ç”¨æ—¶ç¼©æ”¾æ¯”ä¾‹ |

### é˜´å½±å±æ€§ (ä»… XCard ç³»åˆ—)

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_shadowElevation` | dimension | é˜´å½±é«˜åº¦ | `4dp` |
| `xp_shadowColor` | color | é˜´å½±é¢œè‰² | `#20000000` |
| `xp_shadowAlpha` | float | é˜´å½±é€æ˜åº¦ | `0.5` |
| `xp_outlineInsetTop` | dimension | é˜´å½±ä¸Šå†…è¾¹è· | `2dp` |
| `xp_outlineInsetLeft` | dimension | é˜´å½±å·¦å†…è¾¹è· | `2dp` |
| `xp_outlineInsetRight` | dimension | é˜´å½±å³å†…è¾¹è· | `2dp` |
| `xp_outlineInsetBottom` | dimension | é˜´å½±ä¸‹å†…è¾¹è· | `2dp` |

### ç«‹ä½“æ•ˆæœå±æ€§ (ä»… XRound ç³»åˆ—)

| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_cubeSidesGradientColors` | string | ç«‹ä½“ä¾§é¢æ¸å˜é¢œè‰² |
| `xp_cubeFrontHeight` | dimension | ç«‹ä½“æ­£é¢é«˜åº¦ |
| `xp_cubeBackHeight` | dimension | ç«‹ä½“èƒŒé¢é«˜åº¦ |
| `xp_cubeLeftHeight` | dimension | ç«‹ä½“å·¦ä¾§é«˜åº¦ |
| `xp_cubeRightHeight` | dimension | ç«‹ä½“å³ä¾§é«˜åº¦ |
| `xp_cubeSidesBorderColor` | color | ç«‹ä½“ä¾§é¢è¾¹æ¡†è‰² |
| `xp_cubeSidesBorderWidth` | dimension | ç«‹ä½“ä¾§é¢è¾¹æ¡†å®½åº¦ |

### åˆ†å‰²çº¿å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `xp_topDividerHeight` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿é«˜åº¦ |
| `xp_topDividerColor` | color | é¡¶éƒ¨åˆ†å‰²çº¿é¢œè‰² |
| `xp_topDividerInsetLeft` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿å·¦ç¼©è¿› |
| `xp_topDividerInsetRight` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿å³ç¼©è¿› |
| `xp_bottomDividerHeight` | dimension | åº•éƒ¨åˆ†å‰²çº¿é«˜åº¦ |
| `xp_bottomDividerColor` | color | åº•éƒ¨åˆ†å‰²çº¿é¢œè‰² |
| `xp_bottomDividerInsetLeft` | dimension | åº•éƒ¨åˆ†å‰²çº¿å·¦ç¼©è¿› |
| `xp_bottomDividerInsetRight` | dimension | åº•éƒ¨åˆ†å‰²çº¿å³ç¼©è¿› |

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. æ¸å˜æŒ‰é’®

```xml
<com.pichs.xwidget.view.XButton
    android:layout_width="200dp"
    android:layout_height="56dp"
    android:text="æ¸å˜æŒ‰é’®"
    android:textColor="#FFFFFF"
    android:textSize="16sp"
    app:xp_radius="28dp"
    app:xp_backgroundGradientColors="#667eea,#764ba2"
    app:xp_backgroundGradientOrientation="horizontal"
    app:xp_pressedScale="0.95"
    app:xp_pressedAlpha="0.8" />
```

### 2. å¸¦é˜´å½±çš„å¡ç‰‡

```xml
<com.pichs.xwidget.cardview.XCardConstraintLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="16dp"
    android:padding="20dp"
    app:xp_radius="16dp"
    app:xp_shadowElevation="8dp"
    app:xp_shadowColor="#20000000"
    app:xp_backgroundGradientColors="#FFFFFF,#F8F9FA"
    app:xp_backgroundGradientOrientation="vertical"
    app:xp_borderColor="#E0E0E0"
    app:xp_borderWidth="1dp">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="å¡ç‰‡æ ‡é¢˜"
        android:textSize="18sp"
        android:textStyle="bold"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="8dp"
        android:text="è¿™æ˜¯å¡ç‰‡çš„å†…å®¹æè¿°ï¼Œå¯ä»¥åŒ…å«å¤šè¡Œæ–‡æœ¬ã€‚"
        android:textColor="#666666"
        android:textSize="14sp"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/title" />

</com.pichs.xwidget.cardview.XCardConstraintLayout>
```

### 3. ç«‹ä½“æŒ‰é’®

```xml
<com.pichs.xwidget.roundview.XRoundButton
    android:layout_width="120dp"
    android:layout_height="48dp"
    android:text="ç«‹ä½“æŒ‰é’®"
    android:textColor="#FFFFFF"
    app:xp_radius="24dp"
    app:xp_backgroundGradientColors="#FF6B6B,#4ECDC4"
    app:xp_backgroundGradientOrientation="horizontal"
    app:xp_cubeSidesGradientColors="#E74C3C,#27AE60"
    app:xp_cubeFrontHeight="4dp"
    app:xp_cubeSidesBorderColor="#C0392B"
    app:xp_cubeSidesBorderWidth="1dp"
    app:xp_pressedScale="0.9" />
```

### 4. çŠ¶æ€åˆ‡æ¢æŒ‰é’®

```xml
<com.pichs.xwidget.view.XButton
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="çŠ¶æ€æŒ‰é’®"
    android:textColor="#FFFFFF"
    app:xp_radius="8dp"
    app:xp_backgroundGradientStartColor="#3498DB"
    app:xp_backgroundGradientEndColor="#2980B9"
    app:xp_pressedBackgroundGradientStartColor="#E74C3C"
    app:xp_pressedBackgroundGradientEndColor="#C0392B"
    app:xp_checkedBackgroundGradientStartColor="#27AE60"
    app:xp_checkedBackgroundGradientEndColor="#229954"
    app:xp_disabledBackgroundGradientStartColor="#95A5A6"
    app:xp_disabledBackgroundGradientEndColor="#7F8C8D"
    app:xp_pressedScale="0.95"
    app:xp_pressedAlpha="0.8" />
```

### 5. å¸¦åˆ†å‰²çº¿çš„å¸ƒå±€

```xml
<com.pichs.xwidget.cardview.XCardLinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    app:xp_radius="12dp"
    app:xp_shadowElevation="4dp"
    app:xp_bottomDividerHeight="1dp"
    app:xp_bottomDividerColor="#E0E0E0"
    app:xp_bottomDividerInsetLeft="16dp"
    app:xp_bottomDividerInsetRight="16dp">

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp"
        android:text="åˆ—è¡¨é¡¹ 1"
        android:textSize="16sp" />

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp"
        android:text="åˆ—è¡¨é¡¹ 2"
        android:textSize="16sp" />

</com.pichs.xwidget.cardview.XCardLinearLayout>
```

## ğŸ”§ ä»£ç ä¸­ä½¿ç”¨

### åŠ¨æ€è®¾ç½®å±æ€§

```kotlin
// è®¾ç½®åœ†è§’
button.setRadius(16f)

// è®¾ç½®æ¸å˜èƒŒæ™¯
button.setBackgroundGradient(
    Color.parseColor("#FF6B6B"),
    Color.parseColor("#4ECDC4"),
    GradientOrientation.HORIZONTAL
)

// è®¾ç½®å¤šè‰²æ¸å˜
button.setBackgroundGradientColors(
    intArrayOf(
        Color.parseColor("#FF6B6B"),
        Color.parseColor("#4ECDC4"),
        Color.parseColor("#45B7D1")
    ),
    GradientOrientation.HORIZONTAL
)

// è®¾ç½®æŒ‰å‹çŠ¶æ€
button.setPressedBackgroundGradient(
    Color.parseColor("#E74C3C"),
    Color.parseColor("#C0392B"),
    GradientOrientation.HORIZONTAL
)

// è®¾ç½®é€æ˜åº¦
button.setAlphaOnPressed(0.8f)

// è®¾ç½®ç¼©æ”¾
button.setScaleOnPressed(0.95f)
```

### çŠ¶æ€ç›‘å¬

```kotlin
// è®¾ç½®æŒ‰å‹çŠ¶æ€ç›‘å¬
button.setOnPressedStateListener(object : OnPressedStateListener {
    override fun onPressedStatusChanged(pressed: Boolean) {
        // å¤„ç†æŒ‰å‹çŠ¶æ€å˜åŒ–
        Log.d("Button", "Pressed: $pressed")
    }
})

// è®¾ç½®é€‰ä¸­çŠ¶æ€ç›‘å¬
button.setOnCheckedChangeListener(object : OnCheckedChangeListener {
    override fun onCheckedChanged(buttonView: View, isChecked: Boolean) {
        // å¤„ç†é€‰ä¸­çŠ¶æ€å˜åŒ–
        Log.d("Button", "Checked: $isChecked")
    }
})
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ€§èƒ½ä¼˜åŒ–

- é¿å…åœ¨ `onDraw` ä¸­åˆ›å»ºå¯¹è±¡
- åˆç†ä½¿ç”¨ `WeakReference` é¿å…å†…å­˜æ³„æ¼
- å¯¹äºé¢‘ç¹å˜åŒ–çš„å±æ€§ï¼Œä½¿ç”¨ä»£ç è®¾ç½®è€Œé XML

### 2. è®¾è®¡è§„èŒƒ

- åœ†è§’åŠå¾„å»ºè®®ä½¿ç”¨ 8dp çš„å€æ•°
- é˜´å½±é«˜åº¦å»ºè®®ä¸è¶…è¿‡ 8dp
- æ¸å˜é¢œè‰²å»ºè®®ä½¿ç”¨ç›¸è¿‘è‰²ç³»
- æŒ‰å‹ç¼©æ”¾æ¯”ä¾‹å»ºè®®åœ¨ 0.9-0.95 ä¹‹é—´

### 3. å…¼å®¹æ€§

- æ¡†æ¶æ”¯æŒ Android 4.0+ (API 14+)
- é˜´å½±æ•ˆæœåœ¨ Android 5.0 ä»¥ä¸‹ä½¿ç”¨è¾¹æ¡†æ¨¡æ‹Ÿ
- å»ºè®®åœ¨çœŸæœºä¸Šæµ‹è¯•ç«‹ä½“æ•ˆæœ

## ğŸ“± è¡¨å•æ§ä»¶

### å¤é€‰æ¡† (XCheckBox & XSmoothCheckBox)

#### XCheckBox åŸºç¡€å¤é€‰æ¡†

```xml
<com.pichs.xwidget.checkbox.XCheckBox
    android:layout_width="50dp"
    android:layout_height="50dp"
    android:src="@drawable/ic_unchecked"
    app:xp_checked_src="@drawable/ic_checked"
    app:xp_radius="8dp"
    app:xp_clickable="true" />
```

#### XSmoothCheckBox å¹³æ»‘åŠ¨ç”»å¤é€‰æ¡†

```xml
<com.pichs.xwidget.checkbox.XSmoothCheckBox
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    app:xp_cbox_duration="300"
    app:xp_cbox_color_tick="@android:color/white"
    app:xp_cbox_color_checked="@color/colorPrimary"
    app:xp_cbox_color_unchecked_stroke="#DFDFDF"
    app:xp_cbox_stroke_width="2dp" />
```

**XSmoothCheckBox å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_cbox_duration` | integer | åˆ‡æ¢åŠ¨ç”»æŒç»­æ—¶é—´(ms) | 300 |
| `xp_cbox_stroke_width` | dimension | æœªé€‰ä¸­æ—¶è¾¹æ¡†å®½åº¦ | å®½åº¦çš„1/10 |
| `xp_cbox_color_tick` | color | å¯¹å‹¾é¢œè‰² | Color.WHITE |
| `xp_cbox_color_checked` | color | é€‰ä¸­æ—¶å¡«å……é¢œè‰² | colorAccent |
| `xp_cbox_color_unchecked` | color | æœªé€‰ä¸­æ—¶å¡«å……é¢œè‰² | Color.WHITE |
| `xp_cbox_color_unchecked_stroke` | color | æœªé€‰ä¸­æ—¶è¾¹æ¡†é¢œè‰² | #DFDFDF |

### å•é€‰æŒ‰é’® (XRadioButton & XRadioGroup)

#### å•é€‰æŒ‰é’®ç¤ºä¾‹

```xml
<com.pichs.xwidget.radiobutton.XRadioCardButton
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="é€‰é¡¹1"
    app:xp_radius="8dp"
    app:xp_ignore_radio_group="false"
    app:xp_check_state_follow_parent="true" />
```

#### å•é€‰ç»„ç¤ºä¾‹

```xml
<com.pichs.xwidget.radiogroup.XCardLinearRadioGroup
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    app:xp_radius="8dp">

    <com.pichs.xwidget.radiobutton.XRadioCardButton
        android:layout_width="match_parent"
        android:layout_height="48dp"
        android:text="é€‰é¡¹1" />

    <com.pichs.xwidget.radiobutton.XRadioCardButton
        android:layout_width="match_parent"
        android:layout_height="48dp"
        android:text="é€‰é¡¹2" />

</com.pichs.xwidget.radiogroup.XCardLinearRadioGroup>
```

**å•é€‰æ§ä»¶å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_ignore_radio_group` | boolean | æ˜¯å¦å¿½ç•¥å•é€‰ç»„æ§åˆ¶ | false |
| `xp_check_state_follow_parent` | boolean | é€‰ä¸­çŠ¶æ€æ˜¯å¦è·Ÿéšçˆ¶æ§ä»¶ | true |
| `xp_checked_by_click` | boolean | æ˜¯å¦å¯ä»¥é€šè¿‡ç‚¹å‡»é€‰ä¸­ | true |

### è¯„åˆ†æ¡ (XRatingBar)

```xml
<com.pichs.xwidget.ratingbar.XRatingBar
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    app:xp_starCount="5"
    app:xp_starSize="30dp"
    app:xp_starProgress="3.5"
    app:xp_starStep="0.5"
    app:xp_starSelectedColor="#FFC619"
    app:xp_starNormalColor="#DDDDDD"
    app:xp_borderColor="#BF961A"
    app:xp_borderWidth="1dp"
    app:xp_starCornerRadius="12dp"
    app:xp_isIndicator="false"
    app:xp_ratingGravity="left" />
```

**XRatingBar å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_starCount` | integer | æ˜Ÿæ˜Ÿæ•°é‡ | 5 |
| `xp_starSize` | dimension | æ˜Ÿæ˜Ÿå¤§å° | 30dp |
| `xp_starProgress` | float | å½“å‰è¯„åˆ† | 0 |
| `xp_starStep` | float | è¯„åˆ†æ­¥é•¿ | 1.0 |
| `xp_starSelectedColor` | color | é€‰ä¸­æ˜Ÿæ˜Ÿé¢œè‰² | #FFC619 |
| `xp_starNormalColor` | color | æœªé€‰ä¸­æ˜Ÿæ˜Ÿé¢œè‰² | #DDDDDD |
| `xp_borderColor` | color | è¾¹æ¡†é¢œè‰² | é€æ˜ |
| `xp_borderWidth` | dimension | è¾¹æ¡†å®½åº¦ | 0 |
| `xp_starCornerRadius` | dimension | æ˜Ÿæ˜Ÿåœ†è§’åŠå¾„ | 0 |
| `xp_isIndicator` | boolean | æ˜¯å¦ä¸ºæŒ‡ç¤ºå™¨æ¨¡å¼ | false |
| `xp_ratingGravity` | enum | è¯„åˆ†æ–¹å‘ | left |

### å¼€å…³æŒ‰é’® (XSwitchButton)

```xml
<com.pichs.xwidget.switcher.XSwitchButton
    android:layout_width="60dp"
    android:layout_height="30dp"
    app:xp_swb_thumbColor="#FFFFFF"
    app:xp_swb_backgroundColor_switchOn="#4CAF50"
    app:xp_swb_backgroundColor_switchOff="#CCCCCC"
    app:xp_swb_thumbRadius="14dp"
    app:xp_swb_backgroundRadius="15dp"
    app:xp_swb_animationDuration="250"
    app:xp_swb_thumbRangeRatio="1.8"
    app:xp_swb_text_switchOn="å¼€"
    app:xp_swb_text_switchOff="å…³" />
```

**XSwitchButton å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_swb_thumbColor` | color | æ»‘åŠ¨å—é¢œè‰² | #FFFFFF |
| `xp_swb_backgroundColor_switchOn` | color | å¼€å¯æ—¶èƒŒæ™¯è‰² | #4CAF50 |
| `xp_swb_backgroundColor_switchOff` | color | å…³é—­æ—¶èƒŒæ™¯è‰² | #CCCCCC |
| `xp_swb_thumbRadius` | dimension | æ»‘åŠ¨å—åœ†è§’ | 14dp |
| `xp_swb_backgroundRadius` | dimension | èƒŒæ™¯åœ†è§’ | 15dp |
| `xp_swb_animationDuration` | integer | åŠ¨ç”»æŒç»­æ—¶é—´ | 250ms |
| `xp_swb_thumbRangeRatio` | float | æ»‘åŠ¨å—èŒƒå›´æ¯”ä¾‹ | 1.8 |
| `xp_swb_text_switchOn` | string | å¼€å¯æ—¶æ–‡å­— | "" |
| `xp_swb_text_switchOff` | string | å…³é—­æ—¶æ–‡å­— | "" |

### è¿›åº¦æ¡ (XProgressBar)

```xml
<com.pichs.xwidget.progressbar.XProgressBar
    android:layout_width="200dp"
    android:layout_height="20dp"
    app:xp_progressType="roundRect"
    app:xp_progressColor="#4CAF50"
    app:xp_backgroundColor="#E0E0E0"
    app:xp_maxValue="100"
    app:xp_value="60"
    app:xp_strokeWidth="2dp"
    app:xp_strokeRoundCap="true"
    app:xp_textSize="12sp"
    app:xp_textColor="#333333" />
```

**XProgressBar å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_progressType` | enum | è¿›åº¦æ¡ç±»å‹(rect/circle/roundRect) | rect |
| `xp_progressColor` | color | è¿›åº¦é¢œè‰² | #4CAF50 |
| `xp_backgroundColor` | color | èƒŒæ™¯é¢œè‰² | #E0E0E0 |
| `xp_maxValue` | integer | æœ€å¤§å€¼ | 100 |
| `xp_value` | integer | å½“å‰å€¼ | 0 |
| `xp_strokeWidth` | dimension | æè¾¹å®½åº¦ | 2dp |
| `xp_strokeRoundCap` | boolean | æ˜¯å¦ä½¿ç”¨åœ†è§’æè¾¹ | false |
| `xp_textSize` | dimension | æ–‡å­—å¤§å° | 12sp |
| `xp_textColor` | color | æ–‡å­—é¢œè‰² | #333333 |

### è¾“å…¥å¸ƒå±€ (XInputLayout)

```xml
<com.pichs.xwidget.input.XInputLayout
    android:layout_width="match_parent"
    android:layout_height="48dp"
    android:hint="è¯·è¾“å…¥å¯†ç "
    android:textColorHint="#999999"
    app:xp_radius="8dp"
    app:xp_clearIconVisible="true"
    app:xp_eyeIconVisible="true"
    app:xp_textPassword="true"
    app:xp_clearIconColorFilter="#666666"
    app:xp_eyeIconColorFilter="#666666"
    app:xp_clearDrawable="@drawable/ic_clear"
    app:xp_eyeOpenDrawable="@drawable/ic_eye_open"
    app:xp_eyeCloseDrawable="@drawable/ic_eye_close" />
```

**XInputLayout å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_clearIconVisible` | boolean | æ˜¯å¦æ˜¾ç¤ºæ¸…é™¤å›¾æ ‡ | false |
| `xp_eyeIconVisible` | boolean | æ˜¯å¦æ˜¾ç¤ºçœ¼ç›å›¾æ ‡ | false |
| `xp_textPassword` | boolean | æ˜¯å¦ä¸ºå¯†ç è¾“å…¥ | false |
| `xp_clearIconColorFilter` | color | æ¸…é™¤å›¾æ ‡é¢œè‰²æ»¤é•œ | æ—  |
| `xp_eyeIconColorFilter` | color | çœ¼ç›å›¾æ ‡é¢œè‰²æ»¤é•œ | æ—  |
| `xp_clearDrawable` | drawable | æ¸…é™¤å›¾æ ‡ | é»˜è®¤å›¾æ ‡ |
| `xp_eyeOpenDrawable` | drawable | çœ¼ç›å¼€å¯å›¾æ ‡ | é»˜è®¤å›¾æ ‡ |
| `xp_eyeCloseDrawable` | drawable | çœ¼ç›å…³é—­å›¾æ ‡ | é»˜è®¤å›¾æ ‡ |
| `xp_disableCopyAndPaste` | boolean | ç¦ç”¨å¤åˆ¶ç²˜è´´ | false |
| `xp_clearIcon_padding` | dimension | æ¸…é™¤å›¾æ ‡å†…è¾¹è· | 0 |
| `xp_clearIcon_width` | dimension | æ¸…é™¤å›¾æ ‡å®½åº¦ | 26dp |
| `xp_clearIcon_height` | dimension | æ¸…é™¤å›¾æ ‡é«˜åº¦ | 26dp |
| `xp_eyeIcon_padding` | dimension | çœ¼ç›å›¾æ ‡å†…è¾¹è· | 0 |
| `xp_eyeIcon_width` | dimension | çœ¼ç›å›¾æ ‡å®½åº¦ | 30dp |
| `xp_eyeIcon_height` | dimension | çœ¼ç›å›¾æ ‡é«˜åº¦ | 30dp |
| `xp_inputType_password` | flag | å¯†ç è¾“å…¥ç±»å‹ | textPassword |
| `xp_inputType_normal` | flag | æ™®é€šè¾“å…¥ç±»å‹ | text |

### éªŒè¯ç è¾“å…¥æ¡† (XVerificationCodeEditText)

```xml
<com.pichs.xwidget.edittext.XVerificationCodeEditText
    android:layout_width="match_parent"
    android:layout_height="60dp"
    app:xp_maxNumber="6"
    app:xp_boxType="underline"
    app:xp_borderColor="#4CAF50"
    app:xp_borderNoTextColor="#E0E0E0"
    app:xp_textColor="#333333"
    app:xp_cursorColor="#4CAF50"
    app:xp_cursorWidth="2dp"
    app:xp_cursorDuration="500"
    app:xp_showCursor="true"
    app:xp_textPassword="false"
    app:xp_horizontalSpacing="8dp"
    app:xp_borderWidth="2dp"
    app:xp_radius="4dp"
    app:xp_borderLoadingColor="#FF9800"
    app:xp_borderErrorColor="#F44336" />
```

**XVerificationCodeEditText å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_maxNumber` | integer | æœ€å¤§è¾“å…¥ä½æ•° | 6 |
| `xp_boxType` | enum | è¾“å…¥æ¡†ç±»å‹(hollow/solid/underline) | hollow |
| `xp_borderColor` | color | æœ‰æ•°å­—æ—¶çš„è¾¹æ¡†é¢œè‰² | Color.GRAY |
| `xp_borderNoTextColor` | color | æ— æ•°å­—æ—¶çš„è¾¹æ¡†é¢œè‰² | Color.GRAY |
| `xp_blockColor` | color | å®å¿ƒå—é¢œè‰² | Color.BLUE |
| `xp_textColor` | color | æ–‡å­—é¢œè‰² | Color.GRAY |
| `xp_cursorColor` | color | å…‰æ ‡é¢œè‰² | Color.GRAY |
| `xp_cursorWidth` | dimension | å…‰æ ‡å®½åº¦ | 2dp |
| `xp_cursorDuration` | integer | å…‰æ ‡é—ªçƒé—´éš”(ms) | 500 |
| `xp_showCursor` | boolean | æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡ | true |
| `xp_textPassword` | boolean | æ˜¯å¦ä¸ºå¯†ç æ¨¡å¼ | false |
| `xp_horizontalSpacing` | dimension | æ°´å¹³é—´è· | 0dp |
| `xp_borderWidth` | dimension | è¾¹æ¡†å®½åº¦ | 5dp |
| `xp_radius` | dimension | åœ†è§’åŠå¾„ | 0dp |
| `xp_borderLoadingColor` | color | åŠ è½½åŠ¨ç”»è¾¹æ¡†é¢œè‰² | Color.LTGRAY |
| `xp_borderErrorColor` | color | é”™è¯¯çŠ¶æ€è¾¹æ¡†é¢œè‰² | Color.RED |

## ğŸ¨ å¸ƒå±€æ§ä»¶

### æµå¼å¸ƒå±€ (XFlowLayout)

```xml
<com.pichs.xwidget.flowlayout.XFlowLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:padding="16dp"
    app:xp_childHorizontalSpacing="8dp"
    app:xp_childVerticalSpacing="8dp"
    app:xp_maxNumber="10"
    android:maxLines="3">

    <com.pichs.xwidget.cardview.XCardButton
        android:layout_width="wrap_content"
        android:layout_height="32dp"
        android:text="æ ‡ç­¾1"
        app:xp_radius="16dp" />

    <com.pichs.xwidget.cardview.XCardButton
        android:layout_width="wrap_content"
        android:layout_height="32dp"
        android:text="æ ‡ç­¾2"
        app:xp_radius="16dp" />

</com.pichs.xwidget.flowlayout.XFlowLayout>
```

**XFlowLayout å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_childHorizontalSpacing` | dimension | å­æ§ä»¶æ°´å¹³é—´è· | 0dp |
| `xp_childVerticalSpacing` | dimension | å­æ§ä»¶å‚ç›´é—´è· | 0dp |
| `xp_maxNumber` | integer | æœ€å¤§å­æ§ä»¶æ•°é‡ | æ— é™åˆ¶ |
| `android:maxLines` | integer | æœ€å¤§è¡Œæ•° | æ— é™åˆ¶ |

### å ä½æ§ä»¶ (XSpace & XStatusBarSpace)

```xml
<!-- æ™®é€šå ä½ -->
<com.pichs.xwidget.space.XSpace
    android:layout_width="match_parent"
    android:layout_height="16dp" />

<!-- çŠ¶æ€æ å ä½ -->
<com.pichs.xwidget.space.XStatusBarSpace
    android:layout_width="match_parent"
    android:layout_height="wrap_content" />
```

## âœ¨ ç‰¹æ®Šæ•ˆæœ

### é—ªå…‰æŒ‰é’® (ShineButton)

```xml
<com.pichs.xwidget.shinebutton.ShineButton
    android:layout_width="50dp"
    android:layout_height="50dp"
    app:xp_shine_normal_color="#C3C0C0"
    app:xp_shine_checked_color="#6D05E3"
    app:xp_shine_big_shine_color="#900CE1"
    app:xp_shine_small_shine_color="#0C6E8C"
    app:xp_shine_count="5"
    app:xp_shine_size="50dp"
    app:xp_shine_animation_duration="1500"
    app:xp_shine_click_animation_duration="200"
    app:xp_shine_enable_flashing="true"
    app:xp_shine_flashing_colors="#FFEB3B,#C1AF15,#E68E0B,#E34C26"
    app:xp_shine_icon_image="@drawable/ic_star" />
```

**ShineButton å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_shine_normal_color` | color | æœªé€‰ä¸­æ—¶é¢œè‰² | #AAAAAA |
| `xp_shine_checked_color` | color | é€‰ä¸­æ—¶é¢œè‰² | colorAccent |
| `xp_shine_big_shine_color` | color | å¤§é—ªå…‰ç‚¹é¢œè‰² | é€‰ä¸­æ—¶é¢œè‰² |
| `xp_shine_small_shine_color` | color | å°é—ªå…‰ç‚¹é¢œè‰² | #666666 |
| `xp_shine_count` | integer | é—ªå…‰ç‚¹æ•°é‡ | 7 |
| `xp_shine_size` | dimension | é—ªå…‰ç‚¹å¤§å° | æŒ‰é’®å®½åº¦çš„ä¸€åŠ |
| `xp_shine_animation_duration` | integer | å‘æ•£åŠ¨ç”»æŒç»­æ—¶é—´ | 1500ms |
| `xp_shine_click_animation_duration` | integer | ç‚¹å‡»åŠ¨ç”»æŒç»­æ—¶é—´ | 200ms |
| `xp_shine_enable_flashing` | boolean | æ˜¯å¦å¼€å¯é—ªçƒ | false |
| `xp_shine_flashing_colors` | string | é—ªçƒé¢œè‰²åˆ—è¡¨ | æ—  |
| `xp_shine_icon_image` | drawable | å›¾æ ‡èµ„æº | æ—  |

### æŒ‰å‹ç¼©æ”¾å¸ƒå±€ (XPressScaleLayout)

```xml
<com.pichs.xwidget.pressedscale.XPressScaleConstraintLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    app:xp_pressedScale="0.95"
    app:xp_pressedAlpha="0.8">

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="æŒ‰å‹ç¼©æ”¾æ•ˆæœ"
        android:padding="16dp"
        android:background="#FF6B6B"
        android:textColor="#FFFFFF" />

</com.pichs.xwidget.pressedscale.XPressScaleConstraintLayout>
```

### å¢å¼ºç½‘é¡µè§†å›¾ (XWebView)

```xml
<com.pichs.xwidget.webview.XWebView
    android:id="@+id/web_view"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />
```

## ğŸ”„ åµŒå¥—æ»šåŠ¨ç»„ä»¶

### åµŒå¥—æ»šåŠ¨å¸ƒå±€ (XNestedScrollLayout)

XNestedScrollLayout æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åµŒå¥—æ»šåŠ¨å¸ƒå±€ï¼Œæ”¯æŒé¡¶éƒ¨å›ºå®šåŒºåŸŸã€åº•éƒ¨å›ºå®šåŒºåŸŸå’Œä¸­é—´å¯æ»šåŠ¨åŒºåŸŸçš„å¤æ‚å¸ƒå±€ã€‚

```xml
<com.pichs.xwidget.nestedscroll.XNestedScrollLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    app:xp_topAreaHeight="200dp"
    app:xp_bottomAreaHeight="100dp"
    app:xp_topAreaBehavior="pin"
    app:xp_bottomAreaBehavior="pin">

    <!-- é¡¶éƒ¨å›ºå®šåŒºåŸŸ -->
    <com.pichs.xwidget.nestedscroll.XNestedTopDelegateLayout
        android:layout_width="match_parent"
        android:layout_height="200dp"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedTopAreaBehavior">

        <ImageView
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:src="@drawable/header_image"
            android:scaleType="centerCrop" />

    </com.pichs.xwidget.nestedscroll.XNestedTopDelegateLayout>

    <!-- ä¸­é—´å¯æ»šåŠ¨åŒºåŸŸ -->
    <androidx.recyclerview.widget.RecyclerView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedBottomAreaBehavior" />

    <!-- åº•éƒ¨å›ºå®šåŒºåŸŸ -->
    <com.pichs.xwidget.nestedscroll.XNestedBottomDelegateLayout
        android:layout_width="match_parent"
        android:layout_height="100dp"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedBottomAreaBehavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="horizontal"
            android:gravity="center">

            <Button
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="ç¡®å®š" />

            <Button
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="å–æ¶ˆ" />

        </LinearLayout>

    </com.pichs.xwidget.nestedscroll.XNestedBottomDelegateLayout>

</com.pichs.xwidget.nestedscroll.XNestedScrollLayout>
```

### å¯æ‹–æ‹½æ»šåŠ¨æ¡ (XDraggableScrollBar)

XDraggableScrollBar æ˜¯ä¸€ä¸ªå¯æ‹–æ‹½çš„æ»šåŠ¨æ¡ç»„ä»¶ï¼Œæä¾›æ›´å¥½çš„æ»šåŠ¨ä½“éªŒã€‚

```xml
<com.pichs.xwidget.nestedscroll.XDraggableScrollBar
    android:layout_width="4dp"
    android:layout_height="match_parent"
    android:layout_gravity="end"
    android:layout_marginEnd="8dp"
    app:xp_scrollBarColor="#80000000"
    app:xp_scrollBarWidth="4dp"
    app:xp_scrollBarRadius="2dp"
    app:xp_scrollBarMinHeight="40dp"
    app:xp_scrollBarAlpha="0.6" />
```

**XDraggableScrollBar å±æ€§:**

| å±æ€§å | ç±»å‹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|------|--------|
| `xp_scrollBarColor` | color | æ»šåŠ¨æ¡é¢œè‰² | #80000000 |
| `xp_scrollBarWidth` | dimension | æ»šåŠ¨æ¡å®½åº¦ | 4dp |
| `xp_scrollBarRadius` | dimension | æ»šåŠ¨æ¡åœ†è§’ | 2dp |
| `xp_scrollBarMinHeight` | dimension | æ»šåŠ¨æ¡æœ€å°é«˜åº¦ | 40dp |
| `xp_scrollBarAlpha` | float | æ»šåŠ¨æ¡é€æ˜åº¦ | 0.6 |

### åµŒå¥—æ»šåŠ¨ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

#### 1. é¡¶éƒ¨å›ºå®š + ä¸­é—´æ»šåŠ¨ + åº•éƒ¨å›ºå®š

```xml
<com.pichs.xwidget.nestedscroll.XNestedScrollLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- é¡¶éƒ¨å›ºå®šåŒºåŸŸ -->
    <com.pichs.xwidget.nestedscroll.XNestedTopLinearLayout
        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:background="#FF6B6B"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedTopAreaBehavior">

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:text="é¡¶éƒ¨å›ºå®šåŒºåŸŸ"
            android:textColor="#FFFFFF"
            android:textSize="18sp" />

    </com.pichs.xwidget.nestedscroll.XNestedTopLinearLayout>

    <!-- ä¸­é—´æ»šåŠ¨åŒºåŸŸ -->
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedBottomAreaBehavior" />

    <!-- åº•éƒ¨å›ºå®šåŒºåŸŸ -->
    <com.pichs.xwidget.nestedscroll.XNestedBottomDelegateLayout
        android:layout_width="match_parent"
        android:layout_height="80dp"
        android:background="#FFFFFF"
        app:layout_behavior="com.pichs.xwidget.nestedscroll.XNestedBottomAreaBehavior">

        <Button
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_margin="16dp"
            android:text="åº•éƒ¨æŒ‰é’®" />

    </com.pichs.xwidget.nestedscroll.XNestedBottomDelegateLayout>

</com.pichs.xwidget.nestedscroll.XNestedScrollLayout>
```

#### 2. å¸¦æ»šåŠ¨æ¡çš„åˆ—è¡¨

```xml
<FrameLayout
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recycler_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

    <com.pichs.xwidget.nestedscroll.XDraggableScrollBar
        android:layout_width="4dp"
        android:layout_height="match_parent"
        android:layout_gravity="end"
        android:layout_marginEnd="8dp"
        app:xp_scrollBarColor="#4CAF50"
        app:xp_scrollBarWidth="4dp"
        app:xp_scrollBarRadius="2dp"
        app:xp_scrollBarMinHeight="60dp"
        app:xp_scrollBarAlpha="0.8" />

</FrameLayout>
```

### åµŒå¥—æ»šåŠ¨ä»£ç ä½¿ç”¨

```kotlin
// è®¾ç½®æ»šåŠ¨ç›‘å¬
nestedScrollLayout.setOnScrollChangeListener(object : OnScrollChangeListener {
    override fun onScrollChange(v: View, scrollX: Int, scrollY: Int, oldScrollX: Int, oldScrollY: Int) {
        // å¤„ç†æ»šåŠ¨äº‹ä»¶
        Log.d("NestedScroll", "ScrollY: $scrollY")
    }
})

// è®¾ç½®é¡¶éƒ¨åŒºåŸŸè¡Œä¸º
val topBehavior = nestedScrollLayout.getTopAreaBehavior()
topBehavior.setScrollFlags(Behavior.SCROLL_FLAG_SCROLL or Behavior.SCROLL_FLAG_EXIT_UNTIL_COLLAPSED)

// è®¾ç½®åº•éƒ¨åŒºåŸŸè¡Œä¸º
val bottomBehavior = nestedScrollLayout.getBottomAreaBehavior()
bottomBehavior.setScrollFlags(Behavior.SCROLL_FLAG_SCROLL or Behavior.SCROLL_FLAG_ENTER_ALWAYS)

// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®
nestedScrollLayout.scrollTo(0, 500)

// å¹³æ»‘æ»šåŠ¨
nestedScrollLayout.smoothScrollTo(0, 500)
```

## ğŸ”§ ä»£ç ä¸­ä½¿ç”¨è¡¨å•æ§ä»¶

### å¤é€‰æ¡†ç›‘å¬

```kotlin
// XCheckBox ç›‘å¬
checkBox.setOnCheckedChangeListener(object : OnCheckedChangeListener {
    override fun onCheckedChanged(buttonView: View, isChecked: Boolean) {
        Log.d("CheckBox", "Checked: $isChecked")
    }
})

// XSmoothCheckBox ç›‘å¬
smoothCheckBox.setOnCheckedChangeListener(object : OnCheckedChangeListener {
    override fun onCheckedChanged(buttonView: View, isChecked: Boolean) {
        Log.d("SmoothCheckBox", "Checked: $isChecked")
    }
})
```

### å•é€‰ç»„ç›‘å¬

```kotlin
radioGroup.setOnCheckedChangeListener(object : OnRadioCheckedListener {
    override fun onCheckedChanged(group: ViewGroup, checkedId: Int) {
        val checkedButton = group.findViewById<View>(checkedId)
        Log.d("RadioGroup", "Selected: ${checkedButton.tag}")
    }
})
```

### è¯„åˆ†æ¡ç›‘å¬

```kotlin
ratingBar.setOnRatingBarChangeListener(object : OnRatingBarChangeListener {
    override fun onRatingChanged(ratingBar: XRatingBar, rating: Float, fromUser: Boolean) {
        Log.d("RatingBar", "Rating: $rating")
    }
})
```

### å¼€å…³ç›‘å¬

```kotlin
switchButton.setOnCheckedChangeListener(object : CompoundButton.OnCheckedChangeListener {
    override fun onCheckedChanged(buttonView: CompoundButton, isChecked: Boolean) {
        Log.d("Switch", "Checked: $isChecked")
    }
})
```

### è¿›åº¦æ¡è®¾ç½®

```kotlin
// è®¾ç½®è¿›åº¦
progressBar.setProgress(75)

// è®¾ç½®æœ€å¤§å€¼
progressBar.setMaxValue(200)

// è®¾ç½®è¿›åº¦ç›‘å¬
progressBar.setOnProgressChangeListener(object : OnProgressChangeListener {
    override fun onProgressChanged(progressBar: XProgressBar, progress: Int, fromUser: Boolean) {
        Log.d("ProgressBar", "Progress: $progress")
    }
})
```

### è¾“å…¥å¸ƒå±€ç›‘å¬

```kotlin
inputLayout.setOnTextChangeListener(object : TextWatcher {
    override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {}
    
    override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {
        Log.d("InputLayout", "Text: $s")
    }
    
    override fun afterTextChanged(s: Editable?) {}
})

// è·å–è¾“å…¥å†…å®¹
val text = inputLayout.getText().toString()

// è®¾ç½®è¾“å…¥å†…å®¹
inputLayout.setText("é¢„è®¾å†…å®¹")

### éªŒè¯ç è¾“å…¥æ¡†ç›‘å¬

```kotlin
verificationCodeEditText.setTextChangedListener(object : TextChangedListener {
    override fun textChanged(changeText: CharSequence) {
        // è¾“å…¥/åˆ é™¤ç›‘å¬
        Log.d("VerificationCode", "Text changed: $changeText")
    }

    override fun textCompleted(text: CharSequence) {
        // è¾“å…¥å®Œæˆ
        Log.d("VerificationCode", "Text completed: $text")
        // éªŒè¯ç è¾“å…¥å®Œæˆï¼Œå¯ä»¥å¼€å§‹éªŒè¯
        verifyCode(text.toString())
    }

    override fun errorCompleted() {
        // é”™è¯¯æç¤ºå®Œæˆ
        Log.d("VerificationCode", "Error animation completed")
    }
})

// å¼€å§‹åŠ è½½åŠ¨ç”»
verificationCodeEditText.startLoading()

// åœæ­¢åŠ è½½åŠ¨ç”»
verificationCodeEditText.stopLoading(true) // trueè¡¨ç¤ºæˆåŠŸï¼Œfalseè¡¨ç¤ºå¤±è´¥

// æ¸…ç©ºå†…å®¹
verificationCodeEditText.clearText()

// è®¾ç½®æœ€å¤§ä½æ•°
verificationCodeEditText.setMaxNumber(4)

// è®¾ç½®è¾“å…¥æ¡†ç±»å‹
verificationCodeEditText.setType(XVerificationCodeEditText.TYPE_UNDERLINE)
```

### åµŒå¥—æ»šåŠ¨ç›‘å¬

```kotlin
// è®¾ç½®æ»šåŠ¨ç›‘å¬
nestedScrollLayout.setOnScrollChangeListener(object : OnScrollChangeListener {
    override fun onScrollChange(v: View, scrollX: Int, scrollY: Int, oldScrollX: Int, oldScrollY: Int) {
        // å¤„ç†æ»šåŠ¨äº‹ä»¶
        Log.d("NestedScroll", "ScrollY: $scrollY")
        
        // æ ¹æ®æ»šåŠ¨ä½ç½®è°ƒæ•´UI
        if (scrollY > 100) {
            // æ»šåŠ¨è¶…è¿‡100pxæ—¶çš„å¤„ç†
            updateHeaderAlpha(scrollY)
        }
    }
})

// è®¾ç½®é¡¶éƒ¨åŒºåŸŸè¡Œä¸º
val topBehavior = nestedScrollLayout.getTopAreaBehavior()
topBehavior.setScrollFlags(Behavior.SCROLL_FLAG_SCROLL or Behavior.SCROLL_FLAG_EXIT_UNTIL_COLLAPSED)

// è®¾ç½®åº•éƒ¨åŒºåŸŸè¡Œä¸º
val bottomBehavior = nestedScrollLayout.getBottomAreaBehavior()
bottomBehavior.setScrollFlags(Behavior.SCROLL_FLAG_SCROLL or Behavior.SCROLL_FLAG_ENTER_ALWAYS)

// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®
nestedScrollLayout.scrollTo(0, 500)

// å¹³æ»‘æ»šåŠ¨
nestedScrollLayout.smoothScrollTo(0, 500)

// è·å–å½“å‰æ»šåŠ¨ä½ç½®
val currentScrollY = nestedScrollLayout.getScrollY()
```

## ğŸ› ï¸ å·¥å…·ç±»ä½¿ç”¨

### çŠ¶æ€æ ç®¡ç† (XStatusBarHelper)

XStatusBarHelper æä¾›äº†ä¸°å¯Œçš„çŠ¶æ€æ ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ²‰æµ¸å¼çŠ¶æ€æ ã€é€æ˜çŠ¶æ€æ ã€çŠ¶æ€æ å­—ä½“é¢œè‰²è®¾ç½®ç­‰ã€‚

#### åŸºç¡€ä½¿ç”¨

```kotlin
// æ²‰æµ¸å¼çŠ¶æ€æ 
XStatusBarHelper.immersiveStatusBar(activity)

// é€æ˜çŠ¶æ€æ 
XStatusBarHelper.transparentStatusBar(activity.window)

// é€æ˜å¯¼èˆªæ 
XStatusBarHelper.transparentNavigationBar(activity.window)

// è®¾ç½®çŠ¶æ€æ å­—ä½“ä¸ºé»‘è‰²
XStatusBarHelper.setStatusBarFontBlackColor(activity)

// è®¾ç½®çŠ¶æ€æ å­—ä½“ä¸ºç™½è‰²
XStatusBarHelper.setStatusBarFontWhiteColor(activity)

// é€‚é…åˆ˜æµ·å±
XStatusBarHelper.handleDisplayCutoutMode(activity)

// è·å–çŠ¶æ€æ é«˜åº¦
val statusBarHeight = XStatusBarHelper.getStatusBarHeight(context)

// è·å–å¯¼èˆªæ é«˜åº¦
val navigationHeight = XStatusBarHelper.getNavigationHeight()

// è®¾ç½®å…¨å±
XStatusBarHelper.setFullScreen(activity)

// æ£€æŸ¥æ˜¯å¦æ”¯æŒé€æ˜çŠ¶æ€æ 
val isSupport = XStatusBarHelper.supportTranslucentStatusBar6()
```

#### é«˜çº§ä½¿ç”¨

```kotlin
// åœ¨ Activity ä¸­ä½¿ç”¨
class MainActivity : AppCompatActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // è®¾ç½®æ²‰æµ¸å¼çŠ¶æ€æ 
        XStatusBarHelper.immersiveStatusBar(this)
        
        // è®¾ç½®çŠ¶æ€æ å­—ä½“é¢œè‰²ï¼ˆæ ¹æ®èƒŒæ™¯è‰²è‡ªåŠ¨è°ƒæ•´ï¼‰
        if (isLightBackground()) {
            XStatusBarHelper.setStatusBarFontBlackColor(this)
        } else {
            XStatusBarHelper.setStatusBarFontWhiteColor(this)
        }
        
        // é€‚é…åˆ˜æµ·å±
        XStatusBarHelper.handleDisplayCutoutMode(this)
        
        setContentView(R.layout.activity_main)
    }
    
    override fun onWindowFocusChanged(hasFocus: Boolean) {
        super.onWindowFocusChanged(hasFocus)
        // é…åˆå…¨å±ä½¿ç”¨
        XStatusBarHelper.onWindowFocusChanged(this, hasFocus)
    }
}
```

### é¢œè‰²å¤„ç† (XColorHelper)

XColorHelper æä¾›äº†é¢œè‰²å¤„ç†çš„å„ç§å®ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬é€æ˜åº¦è®¾ç½®ã€é¢œè‰²æ’å€¼ã€é¢œè‰²è§£æç­‰ã€‚

#### åŸºç¡€ä½¿ç”¨

```kotlin
// è®¾ç½®é¢œè‰²é€æ˜åº¦
val transparentColor = XColorHelper.setColorAlpha(Color.RED, 0.5f)

// é¢œè‰²æ’å€¼è®¡ç®—
val interpolatedColor = XColorHelper.computeColor(Color.RED, Color.BLUE, 0.5f)

// é¢œè‰²è½¬å­—ç¬¦ä¸²
val colorString = XColorHelper.colorToString(Color.RED) // "#FFFF0000"

// è§£æé¢œè‰²å­—ç¬¦ä¸²
val color = XColorHelper.parseColor("#FF0000")
val color2 = XColorHelper.parseColor("#F00") // æ”¯æŒç®€å†™
val color3 = XColorHelper.parseColor("#80FF0000") // æ”¯æŒé€æ˜åº¦

// æ£€æŸ¥é¢œè‰²æ ¼å¼
val isValid = XColorHelper.isColorStringFormat("#FF0000") // true
val isValid2 = XColorHelper.isColorStringFormat("FF0000") // false

// æ•°ç»„è½¬æ¢
val colorArray = XColorHelper.toIntArray(arrayListOf(Color.RED, Color.GREEN, Color.BLUE))
```

#### é«˜çº§ä½¿ç”¨

```kotlin
// åˆ›å»ºæ¸å˜é¢œè‰²æ•°ç»„
val gradientColors = arrayOf(
    XColorHelper.parseColor("#FF6B6B"),
    XColorHelper.parseColor("#4ECDC4"),
    XColorHelper.parseColor("#45B7D1")
)

// åŠ¨æ€è°ƒæ•´é€æ˜åº¦
fun updateButtonAlpha(progress: Float) {
    val alpha = 0.3f + (0.7f * progress) // 0.3 åˆ° 1.0 ä¹‹é—´
    val color = XColorHelper.setColorAlpha(buttonColor, alpha)
    button.setBackgroundColor(color)
}

// é¢œè‰²è¿‡æ¸¡åŠ¨ç”»
fun animateColorChange(fromColor: Int, toColor: Int, duration: Long) {
    val animator = ValueAnimator.ofFloat(0f, 1f)
    animator.duration = duration
    animator.addUpdateListener { animation ->
        val fraction = animation.animatedValue as Float
        val color = XColorHelper.computeColor(fromColor, toColor, fraction)
        view.setBackgroundColor(color)
    }
    animator.start()
}
```

### è®¾å¤‡ä¿¡æ¯ç®¡ç† (XDeviceHelper)

XDeviceHelper æä¾›äº†è®¾å¤‡ä¿¡æ¯æ£€æµ‹åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç³»ç»Ÿç±»å‹ã€è®¾å¤‡å‹å·ã€æƒé™æ£€æŸ¥ç­‰ã€‚

#### åŸºç¡€ä½¿ç”¨

```kotlin
// ç³»ç»Ÿç±»å‹æ£€æµ‹
val isMIUI = XDeviceHelper.isMIUI()
val isFlyme = XDeviceHelper.isFlyme()
val isMeizu = XDeviceHelper.isMeizu()
val isXiaomi = XDeviceHelper.isXiaomi()
val isVivo = XDeviceHelper.isVivo()
val isOppo = XDeviceHelper.isOppo()
val isHuawei = XDeviceHelper.isHuawei()

// MIUI ç‰ˆæœ¬æ£€æµ‹
val isMIUIV5 = XDeviceHelper.isMIUIV5()
val isMIUIV6 = XDeviceHelper.isMIUIV6()
val isMIUIV7 = XDeviceHelper.isMIUIV7()
val isMIUIV8 = XDeviceHelper.isMIUIV8()
val isMIUIV9 = XDeviceHelper.isMIUIV9()

// Flyme ç‰ˆæœ¬æ£€æµ‹
val isFlymeLowerThan8 = XDeviceHelper.isFlymeLowerThan8()
val isFlymeVersionHigher5_2_4 = XDeviceHelper.isFlymeVersionHigher5_2_4()

// ç‰¹æ®Šè®¾å¤‡æ£€æµ‹
val isZUKZ1 = XDeviceHelper.isZUKZ1()
val isZTKC2016 = XDeviceHelper.isZTKC2016()
val isEssentialPhone = XDeviceHelper.isEssentialPhone()

// å¹³æ¿æ£€æµ‹
val isTablet = XDeviceHelper.isTablet(context)

// æ‚¬æµ®çª—æƒé™æ£€æŸ¥
val hasFloatWindowPermission = XDeviceHelper.isFloatWindowOpAllowed(context)
```

#### é«˜çº§ä½¿ç”¨

```kotlin
// æ ¹æ®è®¾å¤‡ç±»å‹é€‚é…UI
fun adaptUIForDevice(context: Context) {
    when {
        XDeviceHelper.isMIUI() -> {
            // MIUI ç³»ç»Ÿç‰¹æ®Šå¤„ç†
            if (XDeviceHelper.isMIUIV9()) {
                // MIUI 9 ç‰¹æ®Šé€‚é…
                setMIUI9Style()
            }
        }
        XDeviceHelper.isFlyme() -> {
            // Flyme ç³»ç»Ÿç‰¹æ®Šå¤„ç†
            if (XDeviceHelper.isFlymeVersionHigher5_2_4()) {
                setFlymeStyle()
            }
        }
        XDeviceHelper.isHuawei() -> {
            // åä¸ºè®¾å¤‡ç‰¹æ®Šå¤„ç†
            setHuaweiStyle()
        }
    }
    
    // æ£€æŸ¥æ‚¬æµ®çª—æƒé™
    if (!XDeviceHelper.isFloatWindowOpAllowed(context)) {
        requestFloatWindowPermission()
    }
}

// è®¾å¤‡å…¼å®¹æ€§æ£€æŸ¥
fun checkDeviceCompatibility(): Boolean {
    return !XDeviceHelper.isZUKZ1() && !XDeviceHelper.isZTKC2016()
}
```

### å±å¹•æ˜¾ç¤ºç®¡ç† (XDisplayHelper)

XDisplayHelper æä¾›äº†å±å¹•ä¿¡æ¯è·å–ã€å•ä½è½¬æ¢ã€å±å¹•é€‚é…ç­‰åŠŸèƒ½ã€‚

#### åŸºç¡€ä½¿ç”¨

```kotlin
// è·å–å±å¹•ä¿¡æ¯
val screenWidth = XDisplayHelper.getScreenWidth(context)
val screenHeight = XDisplayHelper.getScreenHeight(context)
val realScreenWidth = XDisplayHelper.getRealScreenWidth(context)
val realScreenHeight = XDisplayHelper.getRealScreenHeight(context)
val physicalWidth = XDisplayHelper.getPhysicalWidth(context)
val physicalHeight = XDisplayHelper.getPhysicalHeight(context)

// è·å–å±å¹•å°ºå¯¸
val screenSize = XDisplayHelper.getRealScreenSize(context)
val width = screenSize[0]
val height = screenSize[1]

// å•ä½è½¬æ¢
val px = XDisplayHelper.dp2px(context, 16f)
val dp = XDisplayHelper.px2dp(context, 48)
val sp = XDisplayHelper.sp2px(context, 14f)
val spValue = XDisplayHelper.px2sp(context, 42)

// è·å–ç³»ç»Ÿä¿¡æ¯
val density = XDisplayHelper.getDensity(context)
val fontDensity = XDisplayHelper.getFontDensity(context)
val displayMetrics = XDisplayHelper.getDisplayMetrics(context)
```

#### é«˜çº§ä½¿ç”¨

```kotlin
// å±å¹•é€‚é…
fun adaptScreenSize(context: Context) {
    val screenWidth = XDisplayHelper.getScreenWidth(context)
    val screenHeight = XDisplayHelper.getScreenHeight(context)
    
    // æ ¹æ®å±å¹•å°ºå¯¸è°ƒæ•´å¸ƒå±€
    if (screenWidth > 720) {
        // å¤§å±è®¾å¤‡
        setLargeScreenLayout()
    } else {
        // å°å±è®¾å¤‡
        setSmallScreenLayout()
    }
    
    // æ£€æŸ¥æ˜¯å¦æœ‰å¯¼èˆªæ 
    if (XDisplayHelper.hasNavigationBar(context)) {
        val navHeight = XDisplayHelper.getNavigationBarHeight(context)
        adjustLayoutForNavigationBar(navHeight)
    }
}

// åˆ˜æµ·å±é€‚é…
fun adaptNotchScreen(context: Context) {
    when {
        XDeviceHelper.isHuawei() -> {
            val isNotchEnabled = XDisplayHelper.huaweiIsNotchSetToShowInSetting(context)
            if (isNotchEnabled) {
                setNotchLayout()
            }
        }
        XDeviceHelper.isXiaomi() -> {
            val isNotchEnabled = XDisplayHelper.xiaomiIsNotchSetToShowInSetting(context)
            if (isNotchEnabled) {
                setNotchLayout()
            }
        }
    }
}

// åŠ¨æ€å•ä½è½¬æ¢
fun createResponsiveLayout(context: Context) {
    val baseSize = XDisplayHelper.dp2px(context, 16f)
    val titleSize = XDisplayHelper.sp2px(context, 18f)
    val marginSize = XDisplayHelper.dp2px(context, 8f)
    
    // æ ¹æ®å±å¹•å¯†åº¦è°ƒæ•´
    val density = XDisplayHelper.getDensity(context)
    val adjustedSize = (baseSize * density).toInt()
}
```

### æ¸å˜èƒŒæ™¯ç®¡ç† (XGradientHelper)

XGradientHelper æä¾›äº†æ¸å˜èƒŒæ™¯çš„åˆ›å»ºå’Œç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æ¸å˜æ•ˆæœå’ŒçŠ¶æ€é€‰æ‹©å™¨ã€‚

#### åŸºç¡€ä½¿ç”¨

```kotlin
// åˆ›å»ºç®€å•çš„æ¸å˜èƒŒæ™¯
val gradientDrawable = XGradientHelper.getGradientDrawable(
    radius = XDisplayHelper.dp2px(context, 8f),
    gradientOrientation = GradientDrawable.Orientation.LEFT_RIGHT,
    gradientColors = intArrayOf(Color.RED, Color.BLUE)
)

// åˆ›å»ºå¸¦è¾¹æ¡†çš„æ¸å˜èƒŒæ™¯
val borderedGradient = XGradientHelper.getDrawable(
    radius = XDisplayHelper.dp2px(context, 12f),
    fillColor = Color.TRANSPARENT,
    strokeWidth = XDisplayHelper.dp2px(context, 2f),
    strokeColor = Color.GRAY
)

// ä½¿ç”¨å»ºé€ è€…æ¨¡å¼åˆ›å»ºå¤æ‚æ¸å˜
val complexGradient = XGradientHelper.GradientDrawableBuilder()
    .setRadius(XDisplayHelper.dp2px(context, 16f))
    .setTopLeftRadius(XDisplayHelper.dp2px(context, 20f))
    .setGradientColors(intArrayOf(Color.parseColor("#667eea"), Color.parseColor("#764ba2")))
    .setOrientation(GradientDrawable.Orientation.TL_BR)
    .setStrokeWidth(XDisplayHelper.dp2px(context, 1f))
    .setStrokeColor(Color.WHITE)
    .build()
```

#### çŠ¶æ€é€‰æ‹©å™¨

```kotlin
// åˆ›å»ºé¢œè‰²çŠ¶æ€é€‰æ‹©å™¨
val colorStateList = XGradientHelper.ColorStateListBuilder()
    .addPressedColor(Color.parseColor("#E74C3C"))
    .addCheckedColor(Color.parseColor("#27AE60"))
    .addActivatedColor(Color.parseColor("#3498DB"))
    .setUnSateColor(Color.parseColor("#95A5A6"))
    .build()

// åˆ›å»ºèƒŒæ™¯çŠ¶æ€é€‰æ‹©å™¨
val stateListDrawable = XGradientHelper.StateListDrawableBuilder()
    .addPressedState(Color.parseColor("#E74C3C"))
    .addCheckedState(Color.parseColor("#27AE60"))
    .addActivatedState(Color.parseColor("#3498DB"))
    .setUnState(Color.parseColor("#95A5A6"))
    .build()

// åº”ç”¨åˆ°æŒ‰é’®
button.background = stateListDrawable
button.setTextColor(colorStateList)
```

#### é«˜çº§ä½¿ç”¨

```kotlin
// åˆ›å»ºç«‹ä½“æŒ‰é’®æ•ˆæœ
fun create3DButton(context: Context): LayerDrawable {
    val topGradient = XGradientHelper.getGradientDrawable(
        radius = XDisplayHelper.dp2px(context, 8f),
        gradientOrientation = GradientDrawable.Orientation.TOP_BOTTOM,
        gradientColors = intArrayOf(Color.parseColor("#FF6B6B"), Color.parseColor("#4ECDC4"))
    )
    
    val bottomGradient = XGradientHelper.getGradientDrawable(
        radius = XDisplayHelper.dp2px(context, 8f),
        gradientOrientation = GradientDrawable.Orientation.TOP_BOTTOM,
        gradientColors = intArrayOf(Color.parseColor("#E74C3C"), Color.parseColor("#27AE60"))
    )
    
    return XGradientHelper.getLayerDrawable(
        top = topGradient,
        bottom = bottomGradient,
        insetBottom = XDisplayHelper.dp2px(context, 4f)
    )
}

// åŠ¨æ€åˆ›å»ºæ¸å˜èƒŒæ™¯
fun createDynamicGradient(context: Context, colors: List<Int>): GradientDrawable {
    return XGradientHelper.GradientDrawableBuilder()
        .setRadius(XDisplayHelper.dp2px(context, 12f))
        .setGradientColors(colors.toIntArray())
        .setOrientation(GradientDrawable.Orientation.LEFT_RIGHT)
        .build()
}

// åˆ›å»ºå¸¦é˜´å½±çš„æ¸å˜èƒŒæ™¯
fun createGradientWithShadow(context: Context): Drawable {
    val gradient = XGradientHelper.getGradientDrawable(
        radius = XDisplayHelper.dp2px(context, 16f),
        gradientOrientation = GradientDrawable.Orientation.TL_BR,
        gradientColors = intArrayOf(
            Color.parseColor("#667eea"),
            Color.parseColor("#764ba2"),
            Color.parseColor("#f093fb")
        )
    )
    
    // æ·»åŠ é˜´å½±æ•ˆæœ
    val shadowDrawable = XGradientHelper.getDrawable(
        radius = XDisplayHelper.dp2px(context, 16f),
        fillColor = Color.parseColor("#20000000"),
        strokeWidth = 0,
        strokeColor = Color.TRANSPARENT
    )
    
    return XGradientHelper.getLayerDrawable(
        topDrawable = gradient,
        bottomDrawable = shadowDrawable,
        left = XDisplayHelper.dp2px(context, 4f),
        top = XDisplayHelper.dp2px(context, 4f),
        right = 0,
        bottom = 0
    )
}
```

### å·¥å…·ç±»æœ€ä½³å®è·µ

```kotlin
// ç»Ÿä¸€çš„å±å¹•é€‚é…å·¥å…·ç±»
object ScreenAdapter {
    fun adaptStatusBar(activity: Activity, isLightBackground: Boolean = true) {
        XStatusBarHelper.immersiveStatusBar(activity)
        XStatusBarHelper.handleDisplayCutoutMode(activity)
        
        if (isLightBackground) {
            XStatusBarHelper.setStatusBarFontBlackColor(activity)
        } else {
            XStatusBarHelper.setStatusBarFontWhiteColor(activity)
        }
    }
    
    fun createGradientButton(context: Context, colors: IntArray): GradientDrawable {
        return XGradientHelper.GradientDrawableBuilder()
            .setRadius(XDisplayHelper.dp2px(context, 8f))
            .setGradientColors(colors)
            .setOrientation(GradientDrawable.Orientation.LEFT_RIGHT)
            .build()
    }
    
    fun adaptDeviceSpecific(context: Context) {
        when {
            XDeviceHelper.isMIUI() -> {
                // MIUI ç‰¹æ®Šå¤„ç†
            }
            XDeviceHelper.isFlyme() -> {
                // Flyme ç‰¹æ®Šå¤„ç†
            }
            XDeviceHelper.isHuawei() -> {
                // åä¸ºç‰¹æ®Šå¤„ç†
            }
        }
    }
}
```


## ğŸ·ï¸ xwidget è‡ªå®šä¹‰å±æ€§æ€»è§ˆ

### 1. é€šç”¨åŸºç¡€å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼/ç¤ºä¾‹ |
|--------|------|------|------------|
| `xp_radius` | dimension | åœ†è§’åŠå¾„ | `8dp` |
| `xp_radiusTopLeft` | dimension | å·¦ä¸Šè§’åœ†è§’ | `8dp` |
| `xp_radiusTopRight` | dimension | å³ä¸Šè§’åœ†è§’ | `8dp` |
| `xp_radiusBottomLeft` | dimension | å·¦ä¸‹è§’åœ†è§’ | `8dp` |
| `xp_radiusBottomRight` | dimension | å³ä¸‹è§’åœ†è§’ | `8dp` |
| `xp_isRadiusAdjustBounds` | boolean | æ˜¯å¦è‡ªåŠ¨åŠåœ† | `true/false` |
| `xp_borderColor` | color | è¾¹æ¡†é¢œè‰² | `#FF0000` |
| `xp_borderWidth` | dimension | è¾¹æ¡†å®½åº¦ | `2dp` |
| `xp_shadowElevation` | dimension | é˜´å½±é«˜åº¦ | `4dp` |
| `xp_shadowAlpha` | float | é˜´å½±é€æ˜åº¦ | `0.5` |
| `xp_shadowColor` | color | é˜´å½±é¢œè‰² | `#20000000` |
| `xp_hideRadiusSide` | enum | éšè—åœ†è§’è¾¹ | `none/top/right/bottom/left` |
| `xp_pressedAlpha` | float | æŒ‰å‹æ—¶é€æ˜åº¦ | `0.8` |
| `xp_disabledAlpha` | float | ç¦ç”¨æ—¶é€æ˜åº¦ | `0.5` |
| `xp_pressedScale` | float | æŒ‰å‹æ—¶ç¼©æ”¾ | `0.95` |
| `xp_disabledScale` | float | ç¦ç”¨æ—¶ç¼©æ”¾ | `0.95` |
| `xp_colorFilter` | color | é¢œè‰²æ»¤é•œ | `#FF0000` |
| `xp_colorFilterMode` | enum | æ»¤é•œæ¨¡å¼ | `src, src_atop, multiply, ...` |
| `xp_activated` | boolean | æ¿€æ´»çŠ¶æ€ | `true/false` |

### 2. æ¸å˜ä¸å¤šçŠ¶æ€å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ | å¯é€‰å€¼/ç¤ºä¾‹ |
|--------|------|------|------------|
| `xp_backgroundGradientColors` | string | æ¸å˜è‰²ï¼ˆå¤šè‰²ï¼‰ | `#FF6B6B,#4ECDC4` |
| `xp_backgroundGradientStartColor` | color | æ¸å˜èµ·å§‹è‰² | `#FF6B6B` |
| `xp_backgroundGradientEndColor` | color | æ¸å˜ç»“æŸè‰² | `#4ECDC4` |
| `xp_backgroundGradientOrientation` | enum | æ¸å˜æ–¹å‘ | `horizontal/vertical/TL_BR/BL_TR` |
| `xp_borderGradientStartColor` | color | è¾¹æ¡†æ¸å˜èµ·å§‹è‰² | `#FF6B6B` |
| `xp_borderGradientEndColor` | color | è¾¹æ¡†æ¸å˜ç»“æŸè‰² | `#4ECDC4` |
| `xp_borderGradientOrientation` | enum | è¾¹æ¡†æ¸å˜æ–¹å‘ | åŒä¸Š |
| `xp_pressedBackground` | color | æŒ‰å‹æ—¶èƒŒæ™¯ | `#E74C3C` |
| `xp_pressedBackgroundGradientColors` | string | æŒ‰å‹æ—¶æ¸å˜è‰² | `#E74C3C,#C0392B` |
| `xp_checkedBackground` | color | é€‰ä¸­æ—¶èƒŒæ™¯ | `#27AE60` |
| `xp_checkedBackgroundGradientColors` | string | é€‰ä¸­æ—¶æ¸å˜è‰² | `#27AE60,#229954` |
| `xp_activatedBackground` | color | æ¿€æ´»æ—¶èƒŒæ™¯ | `#3498DB` |
| `xp_activatedBackgroundGradientColors` | string | æ¿€æ´»æ—¶æ¸å˜è‰² | `#3498DB,#2980B9` |
| `xp_disabledBackground` | color | ç¦ç”¨æ—¶èƒŒæ™¯ | `#95A5A6` |
| `xp_disabledBackgroundGradientColors` | string | ç¦ç”¨æ—¶æ¸å˜è‰² | `#95A5A6,#7F8C8D` |

### 3. åˆ†å‰²çº¿å±æ€§

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_topDividerHeight` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿é«˜åº¦ | `1dp` |
| `xp_topDividerColor` | color | é¡¶éƒ¨åˆ†å‰²çº¿é¢œè‰² | `#E0E0E0` |
| `xp_topDividerInsetLeft` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿å·¦ç¼©è¿› | `16dp` |
| `xp_topDividerInsetRight` | dimension | é¡¶éƒ¨åˆ†å‰²çº¿å³ç¼©è¿› | `16dp` |
| `xp_bottomDividerHeight` | dimension | åº•éƒ¨åˆ†å‰²çº¿é«˜åº¦ | `1dp` |
| `xp_bottomDividerColor` | color | åº•éƒ¨åˆ†å‰²çº¿é¢œè‰² | `#E0E0E0` |
| `xp_bottomDividerInsetLeft` | dimension | åº•éƒ¨åˆ†å‰²çº¿å·¦ç¼©è¿› | `16dp` |
| `xp_bottomDividerInsetRight` | dimension | åº•éƒ¨åˆ†å‰²çº¿å³ç¼©è¿› | `16dp` |

### 4. ç«‹ä½“æŒ‰é’®ç›¸å…³å±æ€§ï¼ˆXRoundç³»åˆ—ï¼‰

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_cubeSidesGradientColors` | string | ç«‹ä½“ä¾§é¢æ¸å˜è‰² | `#E74C3C,#27AE60` |
| `xp_cubeFrontHeight` | dimension | æ­£é¢é«˜åº¦ | `4dp` |
| `xp_cubeBackHeight` | dimension | èƒŒé¢é«˜åº¦ | `2dp` |
| `xp_cubeLeftHeight` | dimension | å·¦ä¾§é«˜åº¦ | `2dp` |
| `xp_cubeRightHeight` | dimension | å³ä¾§é«˜åº¦ | `2dp` |
| `xp_cubeSidesBorderColor` | color | ç«‹ä½“è¾¹æ¡†è‰² | `#C0392B` |
| `xp_cubeSidesBorderWidth` | dimension | ç«‹ä½“è¾¹æ¡†å®½ | `1dp` |

### 5. è¯„åˆ†æ¡ï¼ˆXRatingBarï¼‰

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_starCount` | integer | æ˜Ÿæ˜Ÿæ•°é‡ | `5` |
| `xp_starSize` | dimension | æ˜Ÿæ˜Ÿå¤§å° | `30dp` |
| `xp_starProgress` | float | å½“å‰è¯„åˆ† | `3.5` |
| `xp_starStep` | float | è¯„åˆ†æ­¥é•¿ | `0.5` |
| `xp_starSelectedColor` | color | é€‰ä¸­æ˜Ÿæ˜Ÿé¢œè‰² | `#FFC619` |
| `xp_starNormalColor` | color | æœªé€‰ä¸­æ˜Ÿæ˜Ÿé¢œè‰² | `#DDDDDD` |
| `xp_borderColor` | color | è¾¹æ¡†é¢œè‰² | `#BF961A` |
| `xp_borderWidth` | dimension | è¾¹æ¡†å®½åº¦ | `1dp` |
| `xp_starCornerRadius` | dimension | æ˜Ÿæ˜Ÿåœ†è§’ | `12dp` |
| `xp_isIndicator` | boolean | æ˜¯å¦åªè¯» | `true/false` |
| `xp_ratingGravity` | enum | è¯„åˆ†æ–¹å‘ | `left/right` |

### 6. å¤é€‰æ¡†ï¼ˆXSmoothCheckBoxï¼‰

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_cbox_duration` | integer | åŠ¨ç”»æ—¶é•¿ | `300` |
| `xp_cbox_stroke_width` | dimension | è¾¹æ¡†å®½åº¦ | `2dp` |
| `xp_cbox_color_tick` | color | å¯¹å‹¾é¢œè‰² | `#FFFFFF` |
| `xp_cbox_color_checked` | color | é€‰ä¸­å¡«å……è‰² | `#4CAF50` |
| `xp_cbox_color_unchecked` | color | æœªé€‰ä¸­å¡«å……è‰² | `#FFFFFF` |
| `xp_cbox_color_unchecked_stroke` | color | æœªé€‰ä¸­è¾¹æ¡†è‰² | `#DFDFDF` |

### 7. è¾“å…¥æ¡†ï¼ˆXInputLayoutï¼‰

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_clearIconVisible` | boolean | æ˜¾ç¤ºæ¸…é™¤å›¾æ ‡ | `true/false` |
| `xp_eyeIconVisible` | boolean | æ˜¾ç¤ºçœ¼ç›å›¾æ ‡ | `true/false` |
| `xp_clearIconColorFilter` | color | æ¸…é™¤å›¾æ ‡é¢œè‰² | `#666666` |
| `xp_eyeIconColorFilter` | color | çœ¼ç›å›¾æ ‡é¢œè‰² | `#666666` |
| `xp_clearIcon_padding` | dimension | æ¸…é™¤å›¾æ ‡å†…è¾¹è· | `4dp` |
| `xp_clearIcon_width` | dimension | æ¸…é™¤å›¾æ ‡å®½åº¦ | `26dp` |
| `xp_clearIcon_height` | dimension | æ¸…é™¤å›¾æ ‡é«˜åº¦ | `26dp` |
| `xp_eyeIcon_padding` | dimension | çœ¼ç›å›¾æ ‡å†…è¾¹è· | `4dp` |
| `xp_eyeIcon_width` | dimension | çœ¼ç›å›¾æ ‡å®½åº¦ | `30dp` |
| `xp_eyeIcon_height` | dimension | çœ¼ç›å›¾æ ‡é«˜åº¦ | `30dp` |
| `xp_textPassword` | boolean | å¯†ç æ¨¡å¼ | `true/false` |
| `xp_eyeOpenDrawable` | reference | çœ¼ç›å¼€å›¾æ ‡ | `@drawable/ic_eye_open` |
| `xp_eyeCloseDrawable` | reference | çœ¼ç›å…³å›¾æ ‡ | `@drawable/ic_eye_close` |
| `xp_clearDrawable` | reference | æ¸…é™¤å›¾æ ‡ | `@drawable/ic_clear` |
| `xp_disableCopyAndPaste` | boolean | ç¦ç”¨å¤åˆ¶ç²˜è´´ | `true/false` |

### 8. SwitchButtonï¼ˆXSwitchButtonï¼‰

| å±æ€§å | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|------|--------|
| `xp_swb_thumbColor` | color | æ»‘å—é¢œè‰² | `#FFFFFF` |
| `xp_swb_backgroundColor_switchOn` | color | å¼€å¯æ—¶èƒŒæ™¯è‰² | `#4CAF50` |
| `xp_swb_backgroundColor_switchOff` | color | å…³é—­æ—¶èƒŒæ™¯è‰² | `#CCCCCC` |
| `xp_swb_thumbRadius` | dimension | æ»‘å—åœ†è§’ | `14dp` |
| `xp_swb_backgroundRadius` | dimension | èƒŒæ™¯åœ†è§’ | `15dp` |
| `xp_swb_animationDuration` | integer | åŠ¨ç”»æ—¶é•¿ | `250` |
| `xp_swb_thumbRangeRatio` | float | æ»‘å—èŒƒå›´æ¯”ä¾‹ | `1.8` |
| `xp_swb_text_switchOn` | string | å¼€å¯æ–‡å­— | `"å¼€"` |
| `xp_swb_text_switchOff` | string | å…³é—­æ–‡å­— | `"å…³"` |

### 9. å…¶ä»–å¸¸ç”¨å±æ€§

- `xp_ignoreGlobalTypeface`ï¼šæ˜¯å¦å¿½ç•¥å…¨å±€å­—ä½“åˆ‡æ¢
- `xp_outlineInsetTop/Left/Right/Bottom`ï¼šé˜´å½±å†…è¾¹è·
- `xp_outlineExcludePadding`ï¼šé˜´å½±æ˜¯å¦æ’é™¤padding
- `xp_showBorderOnlyBeforeL`ï¼š5.0ä»¥ä¸‹åªæ˜¾ç¤ºè¾¹æ¡†
- `xp_outerNormalColor`ï¼šå¤–éƒ¨æ­£å¸¸é¢œè‰²

---

å¦‚éœ€è¯¦ç»†äº†è§£æ¯ä¸ªæ§ä»¶æ”¯æŒçš„å…¨éƒ¨å±æ€§ï¼Œè¯·æŸ¥é˜…æºç ä¸­çš„ `attrs.xml`ã€`xround_attrs.xml` ç­‰æ–‡ä»¶ã€‚æ­¤è¡¨æ ¼å·²è¦†ç›–ç»å¤§å¤šæ•°å¸¸ç”¨å’Œæ ¸å¿ƒå±æ€§ï¼Œèƒ½æ»¡è¶³ç»å¤§å¤šæ•°å¼€å‘éœ€æ±‚ã€‚
